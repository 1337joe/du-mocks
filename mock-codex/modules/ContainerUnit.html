<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>DU Mocks</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>DU Mocks</h1>


<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
</ul>


<h2>Modules</h2>
<ul class="nowrap">
  <li><a href="../modules/AdjustorUnit.html">AdjustorUnit</a></li>
  <li><a href="../modules/AirfoilUnit.html">AirfoilUnit</a></li>
  <li><a href="../modules/AntiGravityGeneratorUnit.html">AntiGravityGeneratorUnit</a></li>
  <li><a href="../modules/BaseShieldGeneratorUnit.html">BaseShieldGeneratorUnit</a></li>
  <li><a href="../modules/BrakeUnit.html">BrakeUnit</a></li>
  <li><strong>ContainerUnit</strong></li>
  <li><a href="../modules/ControlUnit.html">ControlUnit</a></li>
  <li><a href="../modules/CoreUnit.html">CoreUnit</a></li>
  <li><a href="../modules/CounterUnit.html">CounterUnit</a></li>
  <li><a href="../modules/DatabankUnit.html">DatabankUnit</a></li>
  <li><a href="../modules/DetectionZoneUnit.html">DetectionZoneUnit</a></li>
  <li><a href="../modules/DoorUnit.html">DoorUnit</a></li>
  <li><a href="../modules/Element.html">Element</a></li>
  <li><a href="../modules/ElementWithState.html">ElementWithState</a></li>
  <li><a href="../modules/ElementWithToggle.html">ElementWithToggle</a></li>
  <li><a href="../modules/EmitterUnit.html">EmitterUnit</a></li>
  <li><a href="../modules/Engine.html">Engine</a></li>
  <li><a href="../modules/EngineUnit.html">EngineUnit</a></li>
  <li><a href="../modules/FireworksUnit.html">FireworksUnit</a></li>
  <li><a href="../modules/ForceFieldUnit.html">ForceFieldUnit</a></li>
  <li><a href="../modules/FueledEngine.html">FueledEngine</a></li>
  <li><a href="../modules/GyroUnit.html">GyroUnit</a></li>
  <li><a href="../modules/IndustryUnit.html">IndustryUnit</a></li>
  <li><a href="../modules/LandingGearUnit.html">LandingGearUnit</a></li>
  <li><a href="../modules/LaserDetectorUnit.html">LaserDetectorUnit</a></li>
  <li><a href="../modules/LaserEmitterUnit.html">LaserEmitterUnit</a></li>
  <li><a href="../modules/LightUnit.html">LightUnit</a></li>
  <li><a href="../modules/ManualButtonUnit.html">ManualButtonUnit</a></li>
  <li><a href="../modules/ManualSwitchUnit.html">ManualSwitchUnit</a></li>
  <li><a href="../modules/MiningUnit.html">MiningUnit</a></li>
  <li><a href="../modules/PlasmaExtractorUnit.html">PlasmaExtractorUnit</a></li>
  <li><a href="../modules/PressureTileUnit.html">PressureTileUnit</a></li>
  <li><a href="../modules/RadarUnit.html">RadarUnit</a></li>
  <li><a href="../modules/ReceiverUnit.html">ReceiverUnit</a></li>
  <li><a href="../modules/ScreenUnit.html">ScreenUnit</a></li>
  <li><a href="../modules/ShieldGeneratorUnit.html">ShieldGeneratorUnit</a></li>
  <li><a href="../modules/SurfaceEngineUnit.html">SurfaceEngineUnit</a></li>
  <li><a href="../modules/TelemeterUnit.html">TelemeterUnit</a></li>
  <li><a href="../modules/TransponderUnit.html">TransponderUnit</a></li>
  <li><a href="../modules/WarpDriveUnit.html">WarpDriveUnit</a></li>
  <li><a href="../modules/WeaponUnit.html">WeaponUnit</a></li>
  <li><a href="../modules/construct.html">construct</a></li>
  <li><a href="../modules/game_data_lua.database.html">game_data_lua.database</a></li>
  <li><a href="../modules/game_data_lua.rslib.html">game_data_lua.rslib</a></li>
  <li><a href="../modules/library.html">library</a></li>
  <li><a href="../modules/player.html">player</a></li>
  <li><a href="../modules/renderScript.html">renderScript</a></li>
  <li><a href="../modules/system.html">system</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>ContainerUnit</code></h1>
<p>Containers are elements designed to store items and resources.</p>
<p>
<p> Element class:
 <ul>
   <li>ContainerSmallGroup (for XS item containers)</li>
   <li>ContainerMediumGroup (for S item containers)</li>
   <li>ContainerLargeGroup (for M item containers)</li>
   <li>ContainerXLGroup (for L item containers)</li>
   <li>ContainerXXLGroup (for XL item containers)</li>
   <li>ContainerXXXLGroup (for expanded XL item containers)</li>
   <li>MissionContainer</li>
   <li>AtmoFuelContainer</li>
   <li>SpaceFuelContainer</li>
   <li>RocketFuelTank</li>
 </ul>
<p> Extends: <a href="../modules/Element.html#">Element</a></p>


<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#getSelfMass">getSelfMass ()</a></td>
	<td class="summary">Returns the mass of the container element (as if it were empty).</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#getItemsMass">getItemsMass ()</a></td>
	<td class="summary">Returns the container content mass (the sum of the mass of all the items it contains).</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#getItemsVolume">getItemsVolume ()</a></td>
	<td class="summary">Returns the container content volume (the sum of the volume of all items it contains).</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#getMaxVolume">getMaxVolume ()</a></td>
	<td class="summary">Returns the maximum volume of the container.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#getItemsList">getItemsList ()</a></td>
	<td class="summary"><b>Deprecated:</b> Returns the list of items in the container, as a json string you need to parse with json.decode.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#getContent">getContent ()</a></td>
	<td class="summary">Returns a table describing the contents of the container, as a pair itemId and quantity per slot.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#acquireStorage">acquireStorage ()</a></td>
	<td class="summary"><b>Deprecated:</b>Initiate the acquisition of the storage in the container, required before calls to getItemsList.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#updateContent">updateContent ()</a></td>
	<td class="summary">Send a request to get an update of the content of the container, limited to one call allowed per 30 seconds.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#getWidgetData">getWidgetData ()</a></td>
	<td class="summary">Get element data as JSON.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#EVENT_storageAcquired">EVENT_storageAcquired ()</a></td>
	<td class="summary"><b>Deprecated:</b> Event: The access to the container storage is granted.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#EVENT_onContentUpdate">EVENT_onContentUpdate ()</a></td>
	<td class="summary">Event: Emitted when the container content is updated (storage update or after a manual request made with updateContent()).</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#mockRegisterContentUpdate">mockRegisterContentUpdate (callback)</a></td>
	<td class="summary">Mock only, not in-game: Register a handler for the in-game `onContentUpdate()` event.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#mockDoContentUpdate">mockDoContentUpdate (newItems)</a></td>
	<td class="summary">Mock only, not in-game: Simulates the container content updating, calling all registered callbacks.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#mockGetClosure">mockGetClosure ()</a></td>
	<td class="summary">Mock only, not in-game: Bundles the object into a closure so functions can be called with "." instead of ":".</td>
	</tr>
</table>

<br/>
<br/>


    <h2 class="section-header "><a name="Functions"></a>Functions</h2>

    <dl class="function">
    <dt>
    <a name = "getSelfMass"></a>
    <strong>getSelfMass ()</strong>
    </dt>
    <dd>
    Returns the mass of the container element (as if it were empty).



    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">float</span></span>
        The mass of the container in kilograms.
    </ol>




</dd>
    <dt>
    <a name = "getItemsMass"></a>
    <strong>getItemsMass ()</strong>
    </dt>
    <dd>
    Returns the container content mass (the sum of the mass of all the items it contains).



    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">float</span></span>
        The total mass of the contents of the container, excluding the container's own mass, in kilograms.
    </ol>




</dd>
    <dt>
    <a name = "getItemsVolume"></a>
    <strong>getItemsVolume ()</strong>
    </dt>
    <dd>
    Returns the container content volume (the sum of the volume of all items it contains).



    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">float</span></span>
        The total volume of the contents of the container in liters.
    </ol>




</dd>
    <dt>
    <a name = "getMaxVolume"></a>
    <strong>getMaxVolume ()</strong>
    </dt>
    <dd>
    Returns the maximum volume of the container.



    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">float</span></span>
        The maximum volume of the container in liters.
    </ol>




</dd>
    <dt>
    <a name = "getItemsList"></a>
    <strong>getItemsList ()</strong>
    </dt>
    <dd>
    <b>Deprecated:</b> Returns the list of items in the container, as a json string you need to parse with json.decode.



    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">jsonstr</span></span>
        The container content as a json list of json objects with fields: name, quantity, unitVolume, unitMass, type, class
    </ol>




</dd>
    <dt>
    <a name = "getContent"></a>
    <strong>getContent ()</strong>
    </dt>
    <dd>
    Returns a table describing the contents of the container, as a pair itemId and quantity per slot.
<p> Note: You have to request the contents of the container from the server by calling updateContent first.



    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.4/manual.html#6.6">table</a></span>
        The contents of the container as a table with fields {[int] id, [float] quantity} per slot.
    </ol>


    <h3>See also:</h3>
    <ul>
         <a href="../modules/ContainerUnit.html#updateContent">updateContent</a>
    </ul>


</dd>
    <dt>
    <a name = "acquireStorage"></a>
    <strong>acquireStorage ()</strong>
    </dt>
    <dd>
    <b>Deprecated:</b>Initiate the acquisition of the storage in the container, required before calls to getItemsList.
 Simply wait for the event 'storageAcquired' to be emitted by the container, and you can then use the storage related
 functions.
<p> Note: This is rate-limited to 10 queries / 5 minutes. Attempting to call more frequently will result in console error messages.
<p> This method is deprecated: updateContent should be used instead.





    <h3>See also:</h3>
    <ul>
         <li><a href="../modules/ContainerUnit.html#getItemsList">getItemsList</a></li>
         <li><a href="../modules/ContainerUnit.html#EVENT_storageAcquired">EVENT_storageAcquired</a></li>
         <li><a href="../modules/ContainerUnit.html#updateContent">updateContent</a></li>
    </ul>


</dd>
    <dt>
    <a name = "updateContent"></a>
    <strong>updateContent ()</strong>
    </dt>
    <dd>
    Send a request to get an update of the content of the container, limited to one call allowed per 30 seconds.  The
 onContentUpdate event is emitted by the container when the content is updated.



    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">float</span></span>
        If the request is not yet possible, returns the remaining time to wait for in seconds.
    </ol>


    <h3>See also:</h3>
    <ul>
         <li><a href="../modules/ContainerUnit.html#getContent">getContent</a></li>
         <li><a href="../modules/ContainerUnit.html#EVENT_onContentUpdate">EVENT_onContentUpdate</a></li>
    </ul>


</dd>
    <dt>
    <a name = "getWidgetData"></a>
    <strong>getWidgetData ()</strong>
    </dt>
    <dd>
    Get element data as JSON.
<p> Fuel containers (element classes <code>AtmoFuelContainer</code>, <code>SpaceFuelContainer</code>, and
 <code>RocketFuelTank</code>) have a <code>fuel_container</code> widget, which contains the following fields (bold
 fields are visible when making custom use of the widget):
 <ul>
   <li><b><span class="parameter">percentage</span></b> (<span class="type">float</span>) The percent full.</li>
   <li><b><span class="parameter">timeLeft</span></b> (<span class="type">float</span>) Time in seconds, pass "" to
     leave blank.</li>
   <li><span class="parameter">name</span> (<span class="type">string</span>) The name of the element.</li>
   <li><span class="parameter">helperId</span> (<span class="type">string</span>)
     <code>fuel_container_atmo_fuel</code> | <code>fuel_container_space_fuel</code> |
     <code>fuel_container_rocket_fuel</code></li>
   <li><span class="parameter">type</span> (<span class="type">string</span>) <code>fuel_container</code></li>
 </ul>



    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.4/manual.html#6.4">string</a></span>
        Data as JSON.
    </ol>




</dd>
    <dt>
    <a name = "EVENT_storageAcquired"></a>
    <strong>EVENT_storageAcquired ()</strong>
    </dt>
    <dd>
    <b>Deprecated:</b> Event: The access to the container storage is granted.  Required before using getItemsList, for example.
<p> Note: This is documentation of an event handler, not a callable method.
<p> This event is deprecated: EVENT_onContentUpdate should be used instead.





    <h3>See also:</h3>
    <ul>
         <li><a href="../modules/ContainerUnit.html#acquireStorage">acquireStorage</a></li>
         <li><a href="../modules/ContainerUnit.html#EVENT_onContentUpdate">EVENT_onContentUpdate</a></li>
    </ul>


</dd>
    <dt>
    <a name = "EVENT_onContentUpdate"></a>
    <strong>EVENT_onContentUpdate ()</strong>
    </dt>
    <dd>
    Event: Emitted when the container content is updated (storage update or after a manual request made with updateContent()).
<p> Note: This is documentation of an event handler, not a callable method.





    <h3>See also:</h3>
    <ul>
         <a href="../modules/ContainerUnit.html#updateContent">updateContent</a>
    </ul>


</dd>
    <dt>
    <a name = "mockRegisterContentUpdate"></a>
    <strong>mockRegisterContentUpdate (callback)</strong>
    </dt>
    <dd>
    Mock only, not in-game: Register a handler for the in-game `onContentUpdate()` event.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">callback</span>
            <span class="types"><span class="type">function</span></span>
         The function to call when the container content updates.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">int</span></span>
        The index of the callback.
    </ol>


    <h3>See also:</h3>
    <ul>
         <a href="../modules/ContainerUnit.html#EVENT_onContentUpdate">EVENT_onContentUpdate</a>
    </ul>


</dd>
    <dt>
    <a name = "mockDoContentUpdate"></a>
    <strong>mockDoContentUpdate (newItems)</strong>
    </dt>
    <dd>
    Mock only, not in-game: Simulates the container content updating, calling all registered callbacks.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">newItems</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.4/manual.html#6.6">table</a></span>
         The new contents table, must conform to the table defined in getContent or be nil to not
   change storageItems.
        </li>
    </ul>



    <h3>See also:</h3>
    <ul>
         <a href="../modules/ContainerUnit.html#getContent">getContent</a>
    </ul>


</dd>
    <dt>
    <a name = "mockGetClosure"></a>
    <strong>mockGetClosure ()</strong>
    </dt>
    <dd>
    Mock only, not in-game: Bundles the object into a closure so functions can be called with "." instead of ":".



    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.4/manual.html#6.6">table</a></span>
        A table encompasing the api calls of object.
    </ol>


    <h3>See also:</h3>
    <ul>
         <a href="../modules/Element.html#mockGetClosure">Element:mockGetClosure</a>
    </ul>


</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/lunarmodules/LDoc">LDoc 1.5.0</a></i>
<i style="float:right;">Last updated 2023-09-04 18:37:05 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
